plugins {
    id "jaci.gradle.EmbeddedTools" version "2018.02.04"
}
apply plugin: 'java'

version '1.0-SNAPSHOT'
sourceCompatibility = 1.8

repositories {
    mavenCentral()

    maven {
        url "https://oss.sonatype.org/content/groups/public"
    }
}

dependencies {
    //Add maven dependencies here
    compile group: 'com.pi4j', name: 'pi4j-core', version: '1.2-SNAPSHOT'
}

deploy {
    targets {
        target("pi") {
            addresses << "raspberrypi.local"
            user = "pi"
            password = "raspberry"
            directory = "/home/pi/Desktop"
        }
    }
    artifacts {
        javaArtifact("pi4j-project") {
            targets << "pi"
            jar = "jar"
        }
    }
}

jar {
    from configurations.compile.collect { it.isDirectory() ? it : zipTree(it) }
    manifest {
        attributes 'Main-Class': "com.neemaahmadian.Main"
    }
}